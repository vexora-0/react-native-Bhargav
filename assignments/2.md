# Assignment 2: Build a Categories Page

## Goal

Build a fully functional Categories page that displays all product categories in a grid layout. When a category is tapped, it should navigate to show products filtered by that category. Students will learn about navigation, state management, filtering, and creating reusable UI components.

## Learning Objectives

* Implement a grid layout using FlatList or ScrollView with flexbox
* Use React Navigation/Expo Router for screen navigation
* Filter products by category
* Create reusable category card components
* Handle loading and empty states
* Apply consistent styling with NativeWind/Tailwind CSS
* Understand props passing and component composition

## Tasks (Required)

### 1. Design the Categories Page UI

Create a decent categories page (`app/(main)/categories.tsx`) with:

* **Header Section:**
  * Title "Browse Categories" with emerald-600 background (matching home page style)
  * Optional: Search bar to filter categories by name

* **Categories Grid:**
  * Display all categories in a 2-column grid layout
  * Each category card should show:
    * Category icon (emoji or icon component)
    * Category name
    * Number of products in that category (e.g., "12 products")
    * Background color matching the category (use the same colors from home.tsx)
  * Cards should be touchable and have a nice shadow/elevation effect

* **Empty State:**
  * If no categories exist, show a friendly message like "No categories available"

### 2. Category Data Structure

Use the categories array from `home.tsx` as reference. You can:
* Copy the categories array to the categories page
* OR create a shared constants file (`utils/constants.ts`) to store categories
* Each category should have: `id`, `name`, `icon`, `color`

**Example categories:**
```typescript
const categories = [
  { id: 1, name: "Fruits", icon: "üçé", color: "bg-red-100" },
  { id: 2, name: "Vegetables", icon: "ü•¨", color: "bg-green-100" },
  { id: 3, name: "Dairy", icon: "ü•õ", color: "bg-blue-100" },
  { id: 4, name: "Electronics", icon: "üì±", color: "bg-purple-100" },
  { id: 5, name: "Clothes", icon: "üëï", color: "bg-pink-100" },
  { id: 6, name: "Snacks", icon: "üçø", color: "bg-yellow-100" },
];
```

### 3. Category Card Component

Create a reusable `CategoryCard` component that:
* Accepts category data as props
* Displays the category icon, name, and product count
* Has a touchable area that navigates to filtered products
* Uses consistent styling with rounded corners and shadows

### 4. Navigation to Filtered Products

When a category is tapped:
* Navigate to a new screen or update the home page to show filtered products
* **Option A (Recommended):** Create a new route `app/(main)/category/[categoryName].tsx` using dynamic routes
* **Option B:** Navigate to home page with a query parameter and filter products there
* Display only products that match the selected category

### 5. Product Count Display

For each category, calculate and display the number of products:
* Use the products array from `home.tsx` or fetch from an API
* Count products where `product.category === category.name`
* Display as "X products" or "X items" below the category name

### 6. Styling Requirements

* Use NativeWind (Tailwind CSS) classes for styling
* Match the design language of the home page (emerald-600 primary color)
* Ensure cards have proper spacing, padding, and visual hierarchy
* Make the grid responsive (2 columns on all screen sizes)
* Add smooth animations/transitions when tapping categories

## Deliverables

1. **Categories Page Component** (`app/(main)/categories.tsx`)
   * Fully functional with grid layout
   * Proper navigation handling
   * Loading and empty states

2. **Category Card Component** (can be in same file or separate `components/CategoryCard.tsx`)
   * Reusable component with props
   * Proper TypeScript types (if using TypeScript)

3. **Category Detail/Filter Page** (optional but recommended)
   * `app/(main)/category/[categoryName].tsx` or similar
   * Shows filtered products for selected category

4. **Code Quality:**
   * Clean, readable code with comments
   * Proper component structure
   * Consistent naming conventions

## Optional (Bonus Features)

* **Search Functionality:**
  * Add a search bar to filter categories by name in real-time
  * Use `useState` and `filter()` to implement search

* **Category Icons:**
  * Replace emojis with proper icon library (e.g., `@expo/vector-icons`)
  * Use Ionicons or MaterialIcons for better visual consistency

* **Animations:**
  * Add press animations using `Animated` API or `react-native-reanimated`
  * Smooth transitions when navigating between screens

* **Pull to Refresh:**
  * Implement pull-to-refresh functionality to reload categories

* **Category Statistics:**
  * Show total value of products in each category
  * Display "Most Popular" badge for categories with most products

* **Dark Mode Support:**
  * Add dark mode styling using conditional classes

## Grading Criteria

* **UI/UX Design (20%):**
  * Grid layout implemented correctly
  * Visual consistency with app design
  * Proper spacing, colors, and typography
  * Touch feedback and interactions

* **Functionality (45%):**
  * Categories display correctly
  * Navigation works properly
  * Product filtering by category works
  * Product count calculation is accurate

* **Code Quality (20%):**
  * Clean, readable code
  * Proper component structure
  * Reusable components where appropriate
  * TypeScript types (if applicable)

* **Completeness (10%):**
  * All required features implemented
  * Empty states handled
  * Error handling (if applicable)

* **Bonus Features (5%):**
  * Additional features beyond requirements

---

## Implementation Hints

### Grid Layout with FlatList

You can use `FlatList` with `numColumns={2}` to create a grid:

```tsx
<FlatList
  data={categories}
  numColumns={2}
  keyExtractor={(item) => item.id.toString()}
  renderItem={({ item }) => <CategoryCard category={item} />}
  contentContainerStyle={{ padding: 16 }}
  columnWrapperStyle={{ justifyContent: 'space-between' }}
/>
```

### Navigation with Expo Router

```tsx
import { useRouter } from 'expo-router';

const router = useRouter();

// Navigate to category detail
router.push(`/category/${categoryName}`);
```

### Dynamic Route Example

Create `app/(main)/category/[name].tsx`:

```tsx
import { useLocalSearchParams } from 'expo-router';

export default function CategoryDetail() {
  const { name } = useLocalSearchParams();
  // Filter products by category name
  // Display filtered products
}
```

### Product Count Calculation

```tsx
const getProductCount = (categoryName: string) => {
  return products.filter(p => p.category === categoryName).length;
};
```

### Category Card Component Structure

```tsx
const CategoryCard = ({ category, productCount, onPress }) => {
  return (
    <TouchableOpacity
      onPress={onPress}
      className={`${category.color} rounded-xl p-4 mb-4 shadow-sm`}
      style={{ width: '48%' }}
    >
      <Text className="text-4xl mb-2">{category.icon}</Text>
      <Text className="text-lg font-bold text-gray-800">{category.name}</Text>
      <Text className="text-sm text-gray-600">{productCount} products</Text>
    </TouchableOpacity>
  );
};
```

---

## Testing Checklist

Before submitting, ensure:

- [ ] Categories display in a 2-column grid
- [ ] All categories from home page are visible
- [ ] Tapping a category navigates correctly
- [ ] Product count is accurate for each category
- [ ] Empty state shows when no categories exist
- [ ] Styling matches the app's design language
- [ ] No console errors or warnings
- [ ] Code is clean and well-commented
- [ ] Components are reusable and properly structured

---

## Submission Guidelines

1. Submit the complete `categories.tsx` file
2. Include any new component files created (e.g., `CategoryCard.tsx`)
3. Include any route files created (e.g., `category/[name].tsx`)
4. Add a brief README or comments explaining your implementation approach
5. Optional: Include screenshots or a short video demo

---

## Common Gotchas & Tips

* **Grid Spacing:** Use `columnWrapperStyle` with `justifyContent: 'space-between'` for even spacing
* **Card Width:** Use `width: '48%'` or `flex: 0.5` with margin for 2-column layout
* **Navigation:** Make sure to use `router.push()` or `router.navigate()` correctly
* **Product Filtering:** Ensure product category names match exactly (case-sensitive)
* **Performance:** For large category lists, consider using `FlatList` instead of mapping over arrays
* **Safe Areas:** Use `SafeAreaView` to handle notches and status bars
* **TypeScript:** Define proper types for category and product objects

---

Good luck! üöÄ

